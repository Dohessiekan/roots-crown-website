(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[949],{178:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/feedback",function(){return s(6127)}])},4278:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(7876),a=s(8230),n=s.n(a),o=s(4232);function l(){let[e,t]=(0,o.useState)(!1),[s,a]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{let e=()=>{t(window.scrollY>50)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,r.jsx)("nav",{className:"fixed w-full z-50 transition-all duration-300 ".concat(e?"bg-pure-white shadow-soft":"bg-transparent"),children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-6 lg:px-24",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center h-20",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)(n(),{href:"/",className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-accent text-xl font-bold",children:"\uD83D\uDC51"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-heading font-bold text-primary",children:"Roots & Crown"}),(0,r.jsx)("p",{className:"text-xs text-text-dark opacity-75",children:"Kigali Beauty Lounge"})]})]})}),(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-16",children:[(0,r.jsx)(n(),{href:"/",className:"font-serif font-medium transition-colors ".concat(e?"text-gray-800 hover:text-green-700":"text-white hover:text-yellow-400"),children:"Home"}),(0,r.jsx)(n(),{href:"/services",className:"font-serif font-medium transition-colors ".concat(e?"text-text-dark hover:text-primary":"text-white hover:text-accent"),children:"Services"}),(0,r.jsx)(n(),{href:"/contact",className:"font-serif font-medium transition-colors ".concat(e?"text-text-dark hover:text-primary":"text-white hover:text-accent"),children:"Contact"})]}),(0,r.jsx)("div",{className:"hidden md:block",children:(0,r.jsx)(n(),{href:"/services",className:"btn-secondary px-6 py-3 rounded-lg font-body font-light",style:{backgroundColor:"#C49B38",color:"#fff",border:"none"},children:"Book Now"})}),(0,r.jsx)("div",{className:"md:hidden",children:(0,r.jsx)("button",{onClick:()=>a(!s),className:"p-2 rounded-md ".concat(e?"text-text-dark":"text-white"),children:(0,r.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s?(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),s&&(0,r.jsx)("div",{className:"md:hidden bg-pure-white border-t border-secondary",children:(0,r.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[(0,r.jsx)(n(),{href:"/",className:"block px-3 py-2 text-text-dark hover:text-primary font-serif",onClick:()=>a(!1),children:"Home"}),(0,r.jsx)(n(),{href:"/services",className:"block px-3 py-2 text-text-dark hover:text-primary font-serif",onClick:()=>a(!1),children:"Services"}),(0,r.jsx)(n(),{href:"/contact",className:"block px-3 py-2 text-text-dark hover:text-primary font-serif",onClick:()=>a(!1),children:"Contact"}),(0,r.jsx)("div",{className:"px-3 py-2",children:(0,r.jsx)(n(),{href:"/services",className:"btn-secondary w-full text-center py-2 px-4 rounded-lg font-serif font-extralight",style:{backgroundColor:"#C49B38",color:"#fff",border:"none"},onClick:()=>a(!1),children:"Book Now"})})]})})]})})}},6127:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var r=s(7876),a=s(4232),n=s(9099),o=s(7328),l=s.n(o),i=s(4278),c=s(1325),d=s(8928);function m(){var e,t;let s=(0,n.useRouter)(),{bookingId:o}=s.query,[m,x]=(0,a.useState)({customerName:"",customerEmail:"",bookingId:"",rating:5,serviceRating:5,staffRating:5,facilityRating:5,comment:"",wouldRecommend:!0,improvementSuggestions:""}),[h,u]=(0,a.useState)(!1),[g,f]=(0,a.useState)(!1),[b,p]=(0,a.useState)(null);(0,a.useEffect)(()=>{o&&"string"==typeof o&&(x(e=>({...e,bookingId:o})),j(o))},[o]);let j=async e=>{try{let t=await fetch("/api/debug/booking?bookingId=".concat(e));if(t.ok){let e=await t.json();p(e.booking)}}catch(e){console.error("Error fetching booking details:",e)}},v=e=>{let{name:t,value:s,type:r}=e.target;x(a=>({...a,[t]:"checkbox"===r?e.target.checked:"number"===r?parseInt(s):s}))},y=(e,t)=>{x(s=>({...s,[e]:t}))},N=async e=>{e.preventDefault(),u(!0);try{(await fetch("/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).ok?f(!0):alert("Error submitting feedback. Please try again.")}catch(e){console.error("Error submitting feedback:",e),alert("Error submitting feedback. Please try again.")}finally{u(!1)}},k=e=>{let{rating:t,onRatingChange:s,label:a}=e;return(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:a}),(0,r.jsx)("div",{className:"flex gap-1",children:[1,2,3,4,5].map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>s(e),className:"text-2xl ".concat(e<=t?"text-yellow-400":"text-gray-300"," hover:text-yellow-400 transition-colors"),children:(0,r.jsx)(d.gt3,{})},e))})]})};return g?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l(),{children:(0,r.jsx)("title",{children:"Feedback Submitted - Roots & Crown"})}),(0,r.jsx)(i.A,{}),(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-16",children:(0,r.jsx)("div",{className:"max-w-2xl mx-auto px-4 text-center",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,r.jsx)("h1",{className:"text-3xl font-montaga text-gray-900 mb-4",children:"Thank You for Your Feedback!"}),(0,r.jsx)("p",{className:"text-lg text-gray-600 mb-8",children:"Your feedback helps us improve our services and provide better experiences for all our clients."}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,r.jsx)("button",{onClick:()=>s.push("/"),className:"bg-[#C7A15A] text-white px-8 py-3 rounded-md hover:bg-[#b38d46] transition font-lato",children:"Return Home"}),(0,r.jsx)("button",{onClick:()=>s.push("/services"),className:"border border-[#C7A15A] text-[#C7A15A] px-8 py-3 rounded-md hover:bg-[#f7e8d0] transition font-lato",children:"Book Another Service"})]})]})})}),(0,r.jsx)(c.A,{})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l(),{children:(0,r.jsx)("title",{children:"Share Your Feedback - Roots & Crown"})}),(0,r.jsx)(i.A,{}),(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-16",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[(0,r.jsx)("h1",{className:"text-4xl font-montaga text-gray-900 mb-4",children:"Share Your Experience"}),(0,r.jsx)("p",{className:"text-xl text-gray-600",children:"We'd love to hear about your visit to Roots & Crown"})]}),(0,r.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:(0,r.jsxs)("form",{onSubmit:N,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name *"}),(0,r.jsx)("input",{type:"text",name:"customerName",value:m.customerName,onChange:v,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-[#C7A15A] focus:border-[#C7A15A]",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),(0,r.jsx)("input",{type:"email",name:"customerEmail",value:m.customerEmail,onChange:v,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-[#C7A15A] focus:border-[#C7A15A]",required:!0})]})]}),b&&(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"Your Booking Details"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium text-green-700",children:"Service:"}),(0,r.jsx)("span",{className:"ml-2 text-green-600",children:null==(e=b.service)?void 0:e.name})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium text-green-700",children:"Staff:"}),(0,r.jsx)("span",{className:"ml-2 text-green-600",children:null==(t=b.staff)?void 0:t.name})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium text-green-700",children:"Date:"}),(0,r.jsx)("span",{className:"ml-2 text-green-600",children:new Date(b.appointmentDate).toLocaleDateString()})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium text-green-700",children:"Time:"}),(0,r.jsx)("span",{className:"ml-2 text-green-600",children:b.appointmentTime})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:o?"Booking ID":"Booking ID (Optional)"}),o?(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("input",{type:"text",name:"bookingId",value:m.bookingId,readOnly:!0,className:"w-full p-3 border border-gray-300 rounded-md bg-gray-100 text-gray-700"}),(0,r.jsx)("span",{className:"text-green-600 text-sm",children:"âœ“ Linked to your booking"})]}):(0,r.jsx)("input",{type:"text",name:"bookingId",value:m.bookingId,onChange:v,placeholder:"Enter your 6-digit booking ID",className:"w-full p-3 border border-gray-300 rounded-md focus:ring-[#C7A15A] focus:border-[#C7A15A]"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsx)(k,{rating:m.rating,onRatingChange:e=>y("rating",e),label:"Overall Experience"}),(0,r.jsx)(k,{rating:m.serviceRating,onRatingChange:e=>y("serviceRating",e),label:"Service Quality"}),(0,r.jsx)(k,{rating:m.staffRating,onRatingChange:e=>y("staffRating",e),label:"Staff Performance"}),(0,r.jsx)(k,{rating:m.facilityRating,onRatingChange:e=>y("facilityRating",e),label:"Facility & Cleanliness"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Would you recommend us to friends and family?"}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",name:"wouldRecommend",value:"true",checked:!0===m.wouldRecommend,onChange:()=>x(e=>({...e,wouldRecommend:!0})),className:"mr-2"}),"Yes"]}),(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",name:"wouldRecommend",value:"false",checked:!1===m.wouldRecommend,onChange:()=>x(e=>({...e,wouldRecommend:!1})),className:"mr-2"}),"No"]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tell us about your experience"}),(0,r.jsx)("textarea",{name:"comment",value:m.comment,onChange:v,rows:5,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-[#C7A15A] focus:border-[#C7A15A]",placeholder:"What did you love most about your visit? How did our team make you feel?"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How can we improve? (Optional)"}),(0,r.jsx)("textarea",{name:"improvementSuggestions",value:m.improvementSuggestions,onChange:v,rows:3,className:"w-full p-3 border border-gray-300 rounded-md focus:ring-[#C7A15A] focus:border-[#C7A15A]",placeholder:"Any suggestions for how we can make your next visit even better?"})]}),(0,r.jsx)("div",{className:"text-center pt-6",children:(0,r.jsx)("button",{type:"submit",disabled:h,className:"px-8 py-3 rounded-md font-lato text-lg transition ".concat(h?"bg-gray-400 text-gray-600 cursor-not-allowed":"bg-[#C7A15A] text-white hover:bg-[#b38d46]"),children:h?"Submitting...":"Submit Feedback"})})]})})]})}),(0,r.jsx)(c.A,{})]})}}},e=>{e.O(0,[938,230,885,325,636,593,792],()=>e(e.s=178)),_N_E=e.O()}]);