"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/bookings";
exports.ids = ["pages/api/bookings"];
exports.modules = {

/***/ "(api-node)/./lib/email.ts":
/*!**********************!*\
  !*** ./lib/email.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendBookingConfirmationToCustomer: () => (/* binding */ sendBookingConfirmationToCustomer),\n/* harmony export */   sendBookingNotificationToSalon: () => (/* binding */ sendBookingNotificationToSalon)\n/* harmony export */ });\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"nodemailer\");\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(nodemailer__WEBPACK_IMPORTED_MODULE_0__);\n\n// Create transporter (you'll need to configure this with your email service)\nconst transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0___default().createTransport({\n    // Example configuration for Gmail\n    // For production, use environment variables\n    service: 'gmail',\n    auth: {\n        user: process.env.EMAIL_USER || 'your-salon-email@gmail.com',\n        pass: process.env.EMAIL_PASS || 'your-app-password'\n    }\n});\n// Alternative configuration for other email services\n// const transporter = nodemailer.createTransport({\n//   host: process.env.SMTP_HOST,\n//   port: parseInt(process.env.SMTP_PORT || '587'),\n//   secure: false,\n//   auth: {\n//     user: process.env.SMTP_USER,\n//     pass: process.env.SMTP_PASS\n//   }\n// })\nasync function sendBookingConfirmationToCustomer(bookingData) {\n    const { customerName, customerEmail, serviceName, staffName, appointmentDate, appointmentTime, bookingId, totalPrice } = bookingData;\n    const formattedDate = new Date(appointmentDate).toLocaleDateString('en-US', {\n        weekday: 'long',\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n    });\n    const customerEmailContent = `\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <style>\n        body { font-family: 'Arial', sans-serif; line-height: 1.6; color: #333; }\n        .container { max-width: 600px; margin: 0 auto; padding: 20px; }\n        .header { background: linear-gradient(135deg, #C7A15A, #34893F); color: white; padding: 30px; text-align: center; border-radius: 10px 10px 0 0; }\n        .content { background: #fff; padding: 30px; border: 1px solid #ddd; }\n        .booking-details { background: #f9f9f9; padding: 20px; border-radius: 8px; margin: 20px 0; }\n        .detail-row { display: flex; justify-content: space-between; margin: 10px 0; }\n        .detail-label { font-weight: bold; color: #34893F; }\n        .booking-id { font-size: 24px; font-weight: bold; color: #C7A15A; text-align: center; margin: 20px 0; }\n        .button { background: #C7A15A; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; display: inline-block; margin: 10px 5px; }\n        .footer { background: #f8f8f8; padding: 20px; text-align: center; border-radius: 0 0 10px 10px; }\n      </style>\n    </head>\n    <body>\n      <div class=\"container\">\n        <div class=\"header\">\n          <h1>Booking Confirmed!</h1>\n          <p>Thank you for choosing Roots & Crown</p>\n        </div>\n        \n        <div class=\"content\">\n          <p>Dear ${customerName},</p>\n          \n          <p>Your appointment has been successfully confirmed. We're excited to see you!</p>\n          \n          <div class=\"booking-id\">\n            Booking ID: ${bookingId}\n          </div>\n          \n          <div class=\"booking-details\">\n            <h3 style=\"color: #34893F; margin-top: 0;\">Appointment Details</h3>\n            <div class=\"detail-row\">\n              <span class=\"detail-label\">Service:</span>\n              <span>${serviceName}</span>\n            </div>\n            <div class=\"detail-row\">\n              <span class=\"detail-label\">Staff Member:</span>\n              <span>${staffName}</span>\n            </div>\n            <div class=\"detail-row\">\n              <span class=\"detail-label\">Date:</span>\n              <span>${formattedDate}</span>\n            </div>\n            <div class=\"detail-row\">\n              <span class=\"detail-label\">Time:</span>\n              <span>${appointmentTime}</span>\n            </div>\n            ${totalPrice ? `\n            <div class=\"detail-row\">\n              <span class=\"detail-label\">Price:</span>\n              <span>${totalPrice}</span>\n            </div>\n            ` : ''}\n          </div>\n          \n          <p><strong>Important Information:</strong></p>\n          <ul>\n            <li>Please arrive 10 minutes before your appointment time</li>\n            <li>If you need to reschedule or cancel, please call us at least 24 hours in advance</li>\n            <li>Bring a valid ID and any relevant medical information</li>\n          </ul>\n          \n          <div style=\"text-align: center; margin: 30px 0;\">\n            <a href=\"${process.env.NEXT_PUBLIC_SITE_URL}/feedback?bookingId=${bookingId}\" class=\"button\">\n              Share Your Feedback\n            </a>\n            <a href=\"${process.env.NEXT_PUBLIC_SITE_URL}/contact\" class=\"button\">\n              Contact Us\n            </a>\n          </div>\n        </div>\n        \n        <div class=\"footer\">\n          <p><strong>Roots & Crown</strong></p>\n          <p>${process.env.NEXT_PUBLIC_BUSINESS_ADDRESS}</p>\n          <p>Phone: ${process.env.NEXT_PUBLIC_BUSINESS_PHONE}</p>\n          <p>Email: ${process.env.NEXT_PUBLIC_BUSINESS_EMAIL}</p>\n        </div>\n      </div>\n    </body>\n    </html>\n  `;\n    const mailOptions = {\n        from: process.env.NEXT_PUBLIC_BUSINESS_EMAIL,\n        to: customerEmail,\n        subject: `Booking Confirmed - ${serviceName} at Roots & Crown`,\n        html: customerEmailContent\n    };\n    try {\n        await transporter.sendMail(mailOptions);\n        console.log('Customer confirmation email sent successfully');\n    } catch (error) {\n        console.error('Error sending customer email:', error);\n        throw error;\n    }\n}\nasync function sendBookingNotificationToSalon(bookingData) {\n    const { customerName, customerEmail, serviceName, staffName, appointmentDate, appointmentTime, bookingId, totalPrice } = bookingData;\n    const formattedDate = new Date(appointmentDate).toLocaleDateString('en-US', {\n        weekday: 'long',\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n    });\n    const salonEmailContent = `\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <style>\n        body { font-family: 'Arial', sans-serif; line-height: 1.6; color: #333; }\n        .container { max-width: 600px; margin: 0 auto; padding: 20px; }\n        .header { background: #34893F; color: white; padding: 20px; text-align: center; border-radius: 10px 10px 0 0; }\n        .content { background: #fff; padding: 30px; border: 1px solid #ddd; }\n        .booking-details { background: #f9f9f9; padding: 20px; border-radius: 8px; margin: 20px 0; }\n        .detail-row { display: flex; justify-content: space-between; margin: 10px 0; }\n        .detail-label { font-weight: bold; color: #34893F; }\n        .customer-info { background: #e8f5e8; padding: 15px; border-radius: 5px; margin: 15px 0; }\n        .alert { background: #e8f5e8; padding: 15px; border-left: 4px solid #34893F; margin: 15px 0; }\n      </style>\n    </head>\n    <body>\n      <div class=\"container\">\n        <div class=\"header\">\n            <h1>üóìÔ∏è New Booking Alert</h1>\n          <p>Booking ID: ${bookingId}</p>\n        </div>\n        \n        <div class=\"content\">\n          <div class=\"alert\">\n            <strong>üìã Information:</strong> A new appointment has been automatically confirmed and added to your schedule.\n          </div>\n          \n          <div class=\"booking-details\">\n            <h3 style=\"color: #34893F; margin-top: 0;\">Appointment Details</h3>\n            <div class=\"detail-row\">\n              <span class=\"detail-label\">Service:</span>\n              <span>${serviceName}</span>\n            </div>\n            <div class=\"detail-row\">\n              <span class=\"detail-label\">Staff Member:</span>\n              <span>${staffName}</span>\n            </div>\n            <div class=\"detail-row\">\n              <span class=\"detail-label\">Date:</span>\n              <span>${formattedDate}</span>\n            </div>\n            <div class=\"detail-row\">\n              <span class=\"detail-label\">Time:</span>\n              <span>${appointmentTime}</span>\n            </div>\n            ${totalPrice ? `\n            <div class=\"detail-row\">\n              <span class=\"detail-label\">Price:</span>\n              <span>${totalPrice}</span>\n            </div>\n            ` : ''}\n          </div>\n          \n          <div class=\"customer-info\">\n            <h3 style=\"color: #34893F; margin-top: 0;\">Customer Information</h3>\n            <div class=\"detail-row\">\n              <span class=\"detail-label\">Name:</span>\n              <span>${customerName}</span>\n            </div>\n            <div class=\"detail-row\">\n              <span class=\"detail-label\">Email:</span>\n              <span>${customerEmail}</span>\n            </div>\n          </div>\n          \n          <div style=\"text-align: center; margin: 30px 0;\">\n            <a href=\"${process.env.NEXT_PUBLIC_SITE_URL}/admin\" \n               style=\"background: #34893F; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; display: inline-block;\">\n              View in Admin Dashboard\n            </a>\n          </div>\n          \n          <p><small>This email was automatically generated when a customer completed their online booking. The appointment is confirmed and has been added to your schedule.</small></p>\n        </div>\n      </div>\n    </body>\n    </html>\n  `;\n    const mailOptions = {\n        from: process.env.NEXT_PUBLIC_BUSINESS_EMAIL,\n        to: process.env.NEXT_PUBLIC_BUSINESS_EMAIL,\n        subject: `ÔøΩ New Appointment: ${serviceName} - ${formattedDate} at ${appointmentTime}`,\n        html: salonEmailContent\n    };\n    try {\n        await transporter.sendMail(mailOptions);\n        console.log('Salon notification email sent successfully');\n    } catch (error) {\n        console.error('Error sending salon notification email:', error);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2xpYi9lbWFpbC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW1DO0FBYW5DLDZFQUE2RTtBQUM3RSxNQUFNQyxjQUFjRCxpRUFBMEIsQ0FBQztJQUM3QyxrQ0FBa0M7SUFDbEMsNENBQTRDO0lBQzVDRyxTQUFTO0lBQ1RDLE1BQU07UUFDSkMsTUFBTUMsUUFBUUMsR0FBRyxDQUFDQyxVQUFVLElBQUk7UUFDaENDLE1BQU1ILFFBQVFDLEdBQUcsQ0FBQ0csVUFBVSxJQUFJO0lBQ2xDO0FBQ0Y7QUFFQSxxREFBcUQ7QUFDckQsbURBQW1EO0FBQ25ELGlDQUFpQztBQUNqQyxvREFBb0Q7QUFDcEQsbUJBQW1CO0FBQ25CLFlBQVk7QUFDWixtQ0FBbUM7QUFDbkMsa0NBQWtDO0FBQ2xDLE1BQU07QUFDTixLQUFLO0FBRUUsZUFBZUMsa0NBQWtDQyxXQUE2QjtJQUNuRixNQUFNLEVBQUVDLFlBQVksRUFBRUMsYUFBYSxFQUFFQyxXQUFXLEVBQUVDLFNBQVMsRUFBRUMsZUFBZSxFQUFFQyxlQUFlLEVBQUVDLFNBQVMsRUFBRUMsVUFBVSxFQUFFLEdBQUdSO0lBRXpILE1BQU1TLGdCQUFnQixJQUFJQyxLQUFLTCxpQkFBaUJNLGtCQUFrQixDQUFDLFNBQVM7UUFDMUVDLFNBQVM7UUFDVEMsTUFBTTtRQUNOQyxPQUFPO1FBQ1BDLEtBQUs7SUFDUDtJQUVBLE1BQU1DLHVCQUF1QixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O2tCQXlCZCxFQUFFZixhQUFhOzs7Ozt3QkFLVCxFQUFFTSxVQUFVOzs7Ozs7O29CQU9oQixFQUFFSixZQUFZOzs7O29CQUlkLEVBQUVDLFVBQVU7Ozs7b0JBSVosRUFBRUssY0FBYzs7OztvQkFJaEIsRUFBRUgsZ0JBQWdCOztZQUUxQixFQUFFRSxhQUFhLENBQUM7OztvQkFHUixFQUFFQSxXQUFXOztZQUVyQixDQUFDLEdBQUcsR0FBRzs7Ozs7Ozs7Ozs7cUJBV0UsRUFBRWQsUUFBUUMsR0FBRyxDQUFDc0Isb0JBQW9CLENBQUMsb0JBQW9CLEVBQUVWLFVBQVU7OztxQkFHbkUsRUFBRWIsUUFBUUMsR0FBRyxDQUFDc0Isb0JBQW9CLENBQUM7Ozs7Ozs7O2FBUTNDLEVBQUV2QixRQUFRQyxHQUFHLENBQUN1Qiw0QkFBNEIsQ0FBQztvQkFDcEMsRUFBRXhCLFFBQVFDLEdBQUcsQ0FBQ3dCLDBCQUEwQixDQUFDO29CQUN6QyxFQUFFekIsUUFBUUMsR0FBRyxDQUFDeUIsMEJBQTBCLENBQUM7Ozs7O0VBSzNELENBQUM7SUFFRCxNQUFNQyxjQUFjO1FBQ2xCQyxNQUFNNUIsUUFBUUMsR0FBRyxDQUFDeUIsMEJBQTBCO1FBQzVDRyxJQUFJckI7UUFDSnNCLFNBQVMsQ0FBQyxvQkFBb0IsRUFBRXJCLFlBQVksaUJBQWlCLENBQUM7UUFDOURzQixNQUFNVDtJQUNSO0lBRUEsSUFBSTtRQUNGLE1BQU0zQixZQUFZcUMsUUFBUSxDQUFDTDtRQUMzQk0sUUFBUUMsR0FBRyxDQUFDO0lBQ2QsRUFBRSxPQUFPQyxPQUFPO1FBQ2RGLFFBQVFFLEtBQUssQ0FBQyxpQ0FBaUNBO1FBQy9DLE1BQU1BO0lBQ1I7QUFDRjtBQUVPLGVBQWVDLCtCQUErQjlCLFdBQTZCO0lBQ2hGLE1BQU0sRUFBRUMsWUFBWSxFQUFFQyxhQUFhLEVBQUVDLFdBQVcsRUFBRUMsU0FBUyxFQUFFQyxlQUFlLEVBQUVDLGVBQWUsRUFBRUMsU0FBUyxFQUFFQyxVQUFVLEVBQUUsR0FBR1I7SUFFekgsTUFBTVMsZ0JBQWdCLElBQUlDLEtBQUtMLGlCQUFpQk0sa0JBQWtCLENBQUMsU0FBUztRQUMxRUMsU0FBUztRQUNUQyxNQUFNO1FBQ05DLE9BQU87UUFDUEMsS0FBSztJQUNQO0lBRUEsTUFBTWdCLG9CQUFvQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozt5QkFvQkosRUFBRXhCLFVBQVU7Ozs7Ozs7Ozs7OztvQkFZakIsRUFBRUosWUFBWTs7OztvQkFJZCxFQUFFQyxVQUFVOzs7O29CQUlaLEVBQUVLLGNBQWM7Ozs7b0JBSWhCLEVBQUVILGdCQUFnQjs7WUFFMUIsRUFBRUUsYUFBYSxDQUFDOzs7b0JBR1IsRUFBRUEsV0FBVzs7WUFFckIsQ0FBQyxHQUFHLEdBQUc7Ozs7Ozs7b0JBT0MsRUFBRVAsYUFBYTs7OztvQkFJZixFQUFFQyxjQUFjOzs7OztxQkFLZixFQUFFUixRQUFRQyxHQUFHLENBQUNzQixvQkFBb0IsQ0FBQzs7Ozs7Ozs7Ozs7RUFXdEQsQ0FBQztJQUVELE1BQU1JLGNBQWM7UUFDbEJDLE1BQU01QixRQUFRQyxHQUFHLENBQUN5QiwwQkFBMEI7UUFDNUNHLElBQUk3QixRQUFRQyxHQUFHLENBQUN5QiwwQkFBMEI7UUFDMUNJLFNBQVMsQ0FBQyxtQkFBbUIsRUFBRXJCLFlBQVksR0FBRyxFQUFFTSxjQUFjLElBQUksRUFBRUgsaUJBQWlCO1FBQ3JGbUIsTUFBTU07SUFDUjtJQUVBLElBQUk7UUFDRixNQUFNMUMsWUFBWXFDLFFBQVEsQ0FBQ0w7UUFDM0JNLFFBQVFDLEdBQUcsQ0FBQztJQUNkLEVBQUUsT0FBT0MsT0FBTztRQUNkRixRQUFRRSxLQUFLLENBQUMsMkNBQTJDQTtRQUN6RCxNQUFNQTtJQUNSO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcRkhcXERvd25sb2Fkc1xcUm9vdHNDcm93bldlYnNpdGUgKDIpXFxSb290c0Nyb3duV2Vic2l0ZVxcbGliXFxlbWFpbC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbm9kZW1haWxlciBmcm9tICdub2RlbWFpbGVyJ1xyXG5cclxuaW50ZXJmYWNlIEJvb2tpbmdFbWFpbERhdGEge1xyXG4gIGN1c3RvbWVyTmFtZTogc3RyaW5nXHJcbiAgY3VzdG9tZXJFbWFpbDogc3RyaW5nXHJcbiAgc2VydmljZU5hbWU6IHN0cmluZ1xyXG4gIHN0YWZmTmFtZTogc3RyaW5nXHJcbiAgYXBwb2ludG1lbnREYXRlOiBzdHJpbmdcclxuICBhcHBvaW50bWVudFRpbWU6IHN0cmluZ1xyXG4gIGJvb2tpbmdJZDogc3RyaW5nXHJcbiAgdG90YWxQcmljZT86IHN0cmluZ1xyXG59XHJcblxyXG4vLyBDcmVhdGUgdHJhbnNwb3J0ZXIgKHlvdSdsbCBuZWVkIHRvIGNvbmZpZ3VyZSB0aGlzIHdpdGggeW91ciBlbWFpbCBzZXJ2aWNlKVxyXG5jb25zdCB0cmFuc3BvcnRlciA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcclxuICAvLyBFeGFtcGxlIGNvbmZpZ3VyYXRpb24gZm9yIEdtYWlsXHJcbiAgLy8gRm9yIHByb2R1Y3Rpb24sIHVzZSBlbnZpcm9ubWVudCB2YXJpYWJsZXNcclxuICBzZXJ2aWNlOiAnZ21haWwnLFxyXG4gIGF1dGg6IHtcclxuICAgIHVzZXI6IHByb2Nlc3MuZW52LkVNQUlMX1VTRVIgfHwgJ3lvdXItc2Fsb24tZW1haWxAZ21haWwuY29tJyxcclxuICAgIHBhc3M6IHByb2Nlc3MuZW52LkVNQUlMX1BBU1MgfHwgJ3lvdXItYXBwLXBhc3N3b3JkJ1xyXG4gIH1cclxufSlcclxuXHJcbi8vIEFsdGVybmF0aXZlIGNvbmZpZ3VyYXRpb24gZm9yIG90aGVyIGVtYWlsIHNlcnZpY2VzXHJcbi8vIGNvbnN0IHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoe1xyXG4vLyAgIGhvc3Q6IHByb2Nlc3MuZW52LlNNVFBfSE9TVCxcclxuLy8gICBwb3J0OiBwYXJzZUludChwcm9jZXNzLmVudi5TTVRQX1BPUlQgfHwgJzU4NycpLFxyXG4vLyAgIHNlY3VyZTogZmFsc2UsXHJcbi8vICAgYXV0aDoge1xyXG4vLyAgICAgdXNlcjogcHJvY2Vzcy5lbnYuU01UUF9VU0VSLFxyXG4vLyAgICAgcGFzczogcHJvY2Vzcy5lbnYuU01UUF9QQVNTXHJcbi8vICAgfVxyXG4vLyB9KVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRCb29raW5nQ29uZmlybWF0aW9uVG9DdXN0b21lcihib29raW5nRGF0YTogQm9va2luZ0VtYWlsRGF0YSkge1xyXG4gIGNvbnN0IHsgY3VzdG9tZXJOYW1lLCBjdXN0b21lckVtYWlsLCBzZXJ2aWNlTmFtZSwgc3RhZmZOYW1lLCBhcHBvaW50bWVudERhdGUsIGFwcG9pbnRtZW50VGltZSwgYm9va2luZ0lkLCB0b3RhbFByaWNlIH0gPSBib29raW5nRGF0YVxyXG4gIFxyXG4gIGNvbnN0IGZvcm1hdHRlZERhdGUgPSBuZXcgRGF0ZShhcHBvaW50bWVudERhdGUpLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tVVMnLCB7XHJcbiAgICB3ZWVrZGF5OiAnbG9uZycsXHJcbiAgICB5ZWFyOiAnbnVtZXJpYycsXHJcbiAgICBtb250aDogJ2xvbmcnLFxyXG4gICAgZGF5OiAnbnVtZXJpYydcclxuICB9KVxyXG5cclxuICBjb25zdCBjdXN0b21lckVtYWlsQ29udGVudCA9IGBcclxuICAgIDwhRE9DVFlQRSBodG1sPlxyXG4gICAgPGh0bWw+XHJcbiAgICA8aGVhZD5cclxuICAgICAgPHN0eWxlPlxyXG4gICAgICAgIGJvZHkgeyBmb250LWZhbWlseTogJ0FyaWFsJywgc2Fucy1zZXJpZjsgbGluZS1oZWlnaHQ6IDEuNjsgY29sb3I6ICMzMzM7IH1cclxuICAgICAgICAuY29udGFpbmVyIHsgbWF4LXdpZHRoOiA2MDBweDsgbWFyZ2luOiAwIGF1dG87IHBhZGRpbmc6IDIwcHg7IH1cclxuICAgICAgICAuaGVhZGVyIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgI0M3QTE1QSwgIzM0ODkzRik7IGNvbG9yOiB3aGl0ZTsgcGFkZGluZzogMzBweDsgdGV4dC1hbGlnbjogY2VudGVyOyBib3JkZXItcmFkaXVzOiAxMHB4IDEwcHggMCAwOyB9XHJcbiAgICAgICAgLmNvbnRlbnQgeyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOiAzMHB4OyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyB9XHJcbiAgICAgICAgLmJvb2tpbmctZGV0YWlscyB7IGJhY2tncm91bmQ6ICNmOWY5Zjk7IHBhZGRpbmc6IDIwcHg7IGJvcmRlci1yYWRpdXM6IDhweDsgbWFyZ2luOiAyMHB4IDA7IH1cclxuICAgICAgICAuZGV0YWlsLXJvdyB7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgbWFyZ2luOiAxMHB4IDA7IH1cclxuICAgICAgICAuZGV0YWlsLWxhYmVsIHsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjMzQ4OTNGOyB9XHJcbiAgICAgICAgLmJvb2tpbmctaWQgeyBmb250LXNpemU6IDI0cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBjb2xvcjogI0M3QTE1QTsgdGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW46IDIwcHggMDsgfVxyXG4gICAgICAgIC5idXR0b24geyBiYWNrZ3JvdW5kOiAjQzdBMTVBOyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDEycHggMjRweDsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyBib3JkZXItcmFkaXVzOiA1cHg7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgbWFyZ2luOiAxMHB4IDVweDsgfVxyXG4gICAgICAgIC5mb290ZXIgeyBiYWNrZ3JvdW5kOiAjZjhmOGY4OyBwYWRkaW5nOiAyMHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGJvcmRlci1yYWRpdXM6IDAgMCAxMHB4IDEwcHg7IH1cclxuICAgICAgPC9zdHlsZT5cclxuICAgIDwvaGVhZD5cclxuICAgIDxib2R5PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlclwiPlxyXG4gICAgICAgICAgPGgxPkJvb2tpbmcgQ29uZmlybWVkITwvaDE+XHJcbiAgICAgICAgICA8cD5UaGFuayB5b3UgZm9yIGNob29zaW5nIFJvb3RzICYgQ3Jvd248L3A+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cclxuICAgICAgICAgIDxwPkRlYXIgJHtjdXN0b21lck5hbWV9LDwvcD5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgPHA+WW91ciBhcHBvaW50bWVudCBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgY29uZmlybWVkLiBXZSdyZSBleGNpdGVkIHRvIHNlZSB5b3UhPC9wPlxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYm9va2luZy1pZFwiPlxyXG4gICAgICAgICAgICBCb29raW5nIElEOiAke2Jvb2tpbmdJZH1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYm9va2luZy1kZXRhaWxzXCI+XHJcbiAgICAgICAgICAgIDxoMyBzdHlsZT1cImNvbG9yOiAjMzQ4OTNGOyBtYXJnaW4tdG9wOiAwO1wiPkFwcG9pbnRtZW50IERldGFpbHM8L2gzPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV0YWlsLXJvd1wiPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGV0YWlsLWxhYmVsXCI+U2VydmljZTo8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPHNwYW4+JHtzZXJ2aWNlTmFtZX08L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV0YWlsLXJvd1wiPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGV0YWlsLWxhYmVsXCI+U3RhZmYgTWVtYmVyOjwvc3Bhbj5cclxuICAgICAgICAgICAgICA8c3Bhbj4ke3N0YWZmTmFtZX08L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV0YWlsLXJvd1wiPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGV0YWlsLWxhYmVsXCI+RGF0ZTo8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPHNwYW4+JHtmb3JtYXR0ZWREYXRlfTwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXRhaWwtcm93XCI+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJkZXRhaWwtbGFiZWxcIj5UaW1lOjwvc3Bhbj5cclxuICAgICAgICAgICAgICA8c3Bhbj4ke2FwcG9pbnRtZW50VGltZX08L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAke3RvdGFsUHJpY2UgPyBgXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZXRhaWwtcm93XCI+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJkZXRhaWwtbGFiZWxcIj5QcmljZTo8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPHNwYW4+JHt0b3RhbFByaWNlfTwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIGAgOiAnJ31cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICA8cD48c3Ryb25nPkltcG9ydGFudCBJbmZvcm1hdGlvbjo8L3N0cm9uZz48L3A+XHJcbiAgICAgICAgICA8dWw+XHJcbiAgICAgICAgICAgIDxsaT5QbGVhc2UgYXJyaXZlIDEwIG1pbnV0ZXMgYmVmb3JlIHlvdXIgYXBwb2ludG1lbnQgdGltZTwvbGk+XHJcbiAgICAgICAgICAgIDxsaT5JZiB5b3UgbmVlZCB0byByZXNjaGVkdWxlIG9yIGNhbmNlbCwgcGxlYXNlIGNhbGwgdXMgYXQgbGVhc3QgMjQgaG91cnMgaW4gYWR2YW5jZTwvbGk+XHJcbiAgICAgICAgICAgIDxsaT5CcmluZyBhIHZhbGlkIElEIGFuZCBhbnkgcmVsZXZhbnQgbWVkaWNhbCBpbmZvcm1hdGlvbjwvbGk+XHJcbiAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW46IDMwcHggMDtcIj5cclxuICAgICAgICAgICAgPGEgaHJlZj1cIiR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU0lURV9VUkx9L2ZlZWRiYWNrP2Jvb2tpbmdJZD0ke2Jvb2tpbmdJZH1cIiBjbGFzcz1cImJ1dHRvblwiPlxyXG4gICAgICAgICAgICAgIFNoYXJlIFlvdXIgRmVlZGJhY2tcclxuICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICA8YSBocmVmPVwiJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TSVRFX1VSTH0vY29udGFjdFwiIGNsYXNzPVwiYnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgQ29udGFjdCBVc1xyXG4gICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBcclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9vdGVyXCI+XHJcbiAgICAgICAgICA8cD48c3Ryb25nPlJvb3RzICYgQ3Jvd248L3N0cm9uZz48L3A+XHJcbiAgICAgICAgICA8cD4ke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JVU0lORVNTX0FERFJFU1N9PC9wPlxyXG4gICAgICAgICAgPHA+UGhvbmU6ICR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQlVTSU5FU1NfUEhPTkV9PC9wPlxyXG4gICAgICAgICAgPHA+RW1haWw6ICR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQlVTSU5FU1NfRU1BSUx9PC9wPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvYm9keT5cclxuICAgIDwvaHRtbD5cclxuICBgXHJcblxyXG4gIGNvbnN0IG1haWxPcHRpb25zID0ge1xyXG4gICAgZnJvbTogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQlVTSU5FU1NfRU1BSUwsXHJcbiAgICB0bzogY3VzdG9tZXJFbWFpbCxcclxuICAgIHN1YmplY3Q6IGBCb29raW5nIENvbmZpcm1lZCAtICR7c2VydmljZU5hbWV9IGF0IFJvb3RzICYgQ3Jvd25gLFxyXG4gICAgaHRtbDogY3VzdG9tZXJFbWFpbENvbnRlbnRcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCB0cmFuc3BvcnRlci5zZW5kTWFpbChtYWlsT3B0aW9ucylcclxuICAgIGNvbnNvbGUubG9nKCdDdXN0b21lciBjb25maXJtYXRpb24gZW1haWwgc2VudCBzdWNjZXNzZnVsbHknKVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZW5kaW5nIGN1c3RvbWVyIGVtYWlsOicsIGVycm9yKVxyXG4gICAgdGhyb3cgZXJyb3JcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kQm9va2luZ05vdGlmaWNhdGlvblRvU2Fsb24oYm9va2luZ0RhdGE6IEJvb2tpbmdFbWFpbERhdGEpIHtcclxuICBjb25zdCB7IGN1c3RvbWVyTmFtZSwgY3VzdG9tZXJFbWFpbCwgc2VydmljZU5hbWUsIHN0YWZmTmFtZSwgYXBwb2ludG1lbnREYXRlLCBhcHBvaW50bWVudFRpbWUsIGJvb2tpbmdJZCwgdG90YWxQcmljZSB9ID0gYm9va2luZ0RhdGFcclxuICBcclxuICBjb25zdCBmb3JtYXR0ZWREYXRlID0gbmV3IERhdGUoYXBwb2ludG1lbnREYXRlKS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLVVTJywge1xyXG4gICAgd2Vla2RheTogJ2xvbmcnLFxyXG4gICAgeWVhcjogJ251bWVyaWMnLFxyXG4gICAgbW9udGg6ICdsb25nJyxcclxuICAgIGRheTogJ251bWVyaWMnXHJcbiAgfSlcclxuXHJcbiAgY29uc3Qgc2Fsb25FbWFpbENvbnRlbnQgPSBgXHJcbiAgICA8IURPQ1RZUEUgaHRtbD5cclxuICAgIDxodG1sPlxyXG4gICAgPGhlYWQ+XHJcbiAgICAgIDxzdHlsZT5cclxuICAgICAgICBib2R5IHsgZm9udC1mYW1pbHk6ICdBcmlhbCcsIHNhbnMtc2VyaWY7IGxpbmUtaGVpZ2h0OiAxLjY7IGNvbG9yOiAjMzMzOyB9XHJcbiAgICAgICAgLmNvbnRhaW5lciB7IG1heC13aWR0aDogNjAwcHg7IG1hcmdpbjogMCBhdXRvOyBwYWRkaW5nOiAyMHB4OyB9XHJcbiAgICAgICAgLmhlYWRlciB7IGJhY2tncm91bmQ6ICMzNDg5M0Y7IGNvbG9yOiB3aGl0ZTsgcGFkZGluZzogMjBweDsgdGV4dC1hbGlnbjogY2VudGVyOyBib3JkZXItcmFkaXVzOiAxMHB4IDEwcHggMCAwOyB9XHJcbiAgICAgICAgLmNvbnRlbnQgeyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOiAzMHB4OyBib3JkZXI6IDFweCBzb2xpZCAjZGRkOyB9XHJcbiAgICAgICAgLmJvb2tpbmctZGV0YWlscyB7IGJhY2tncm91bmQ6ICNmOWY5Zjk7IHBhZGRpbmc6IDIwcHg7IGJvcmRlci1yYWRpdXM6IDhweDsgbWFyZ2luOiAyMHB4IDA7IH1cclxuICAgICAgICAuZGV0YWlsLXJvdyB7IGRpc3BsYXk6IGZsZXg7IGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsgbWFyZ2luOiAxMHB4IDA7IH1cclxuICAgICAgICAuZGV0YWlsLWxhYmVsIHsgZm9udC13ZWlnaHQ6IGJvbGQ7IGNvbG9yOiAjMzQ4OTNGOyB9XHJcbiAgICAgICAgLmN1c3RvbWVyLWluZm8geyBiYWNrZ3JvdW5kOiAjZThmNWU4OyBwYWRkaW5nOiAxNXB4OyBib3JkZXItcmFkaXVzOiA1cHg7IG1hcmdpbjogMTVweCAwOyB9XHJcbiAgICAgICAgLmFsZXJ0IHsgYmFja2dyb3VuZDogI2U4ZjVlODsgcGFkZGluZzogMTVweDsgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjMzQ4OTNGOyBtYXJnaW46IDE1cHggMDsgfVxyXG4gICAgICA8L3N0eWxlPlxyXG4gICAgPC9oZWFkPlxyXG4gICAgPGJvZHk+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XHJcbiAgICAgICAgICAgIDxoMT7wn5eT77iPIE5ldyBCb29raW5nIEFsZXJ0PC9oMT5cclxuICAgICAgICAgIDxwPkJvb2tpbmcgSUQ6ICR7Ym9va2luZ0lkfTwvcD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBcclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImFsZXJ0XCI+XHJcbiAgICAgICAgICAgIDxzdHJvbmc+8J+TiyBJbmZvcm1hdGlvbjo8L3N0cm9uZz4gQSBuZXcgYXBwb2ludG1lbnQgaGFzIGJlZW4gYXV0b21hdGljYWxseSBjb25maXJtZWQgYW5kIGFkZGVkIHRvIHlvdXIgc2NoZWR1bGUuXHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImJvb2tpbmctZGV0YWlsc1wiPlxyXG4gICAgICAgICAgICA8aDMgc3R5bGU9XCJjb2xvcjogIzM0ODkzRjsgbWFyZ2luLXRvcDogMDtcIj5BcHBvaW50bWVudCBEZXRhaWxzPC9oMz5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRldGFpbC1yb3dcIj5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImRldGFpbC1sYWJlbFwiPlNlcnZpY2U6PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDxzcGFuPiR7c2VydmljZU5hbWV9PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRldGFpbC1yb3dcIj5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImRldGFpbC1sYWJlbFwiPlN0YWZmIE1lbWJlcjo8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPHNwYW4+JHtzdGFmZk5hbWV9PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRldGFpbC1yb3dcIj5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImRldGFpbC1sYWJlbFwiPkRhdGU6PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDxzcGFuPiR7Zm9ybWF0dGVkRGF0ZX08L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV0YWlsLXJvd1wiPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGV0YWlsLWxhYmVsXCI+VGltZTo8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPHNwYW4+JHthcHBvaW50bWVudFRpbWV9PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgJHt0b3RhbFByaWNlID8gYFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV0YWlsLXJvd1wiPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGV0YWlsLWxhYmVsXCI+UHJpY2U6PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDxzcGFuPiR7dG90YWxQcmljZX08L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBgIDogJyd9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImN1c3RvbWVyLWluZm9cIj5cclxuICAgICAgICAgICAgPGgzIHN0eWxlPVwiY29sb3I6ICMzNDg5M0Y7IG1hcmdpbi10b3A6IDA7XCI+Q3VzdG9tZXIgSW5mb3JtYXRpb248L2gzPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGV0YWlsLXJvd1wiPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGV0YWlsLWxhYmVsXCI+TmFtZTo8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPHNwYW4+JHtjdXN0b21lck5hbWV9PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRldGFpbC1yb3dcIj5cclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImRldGFpbC1sYWJlbFwiPkVtYWlsOjwvc3Bhbj5cclxuICAgICAgICAgICAgICA8c3Bhbj4ke2N1c3RvbWVyRW1haWx9PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW46IDMwcHggMDtcIj5cclxuICAgICAgICAgICAgPGEgaHJlZj1cIiR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU0lURV9VUkx9L2FkbWluXCIgXHJcbiAgICAgICAgICAgICAgIHN0eWxlPVwiYmFja2dyb3VuZDogIzM0ODkzRjsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAxMnB4IDI0cHg7IHRleHQtZGVjb3JhdGlvbjogbm9uZTsgYm9yZGVyLXJhZGl1czogNXB4OyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XCI+XHJcbiAgICAgICAgICAgICAgVmlldyBpbiBBZG1pbiBEYXNoYm9hcmRcclxuICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIDxwPjxzbWFsbD5UaGlzIGVtYWlsIHdhcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCB3aGVuIGEgY3VzdG9tZXIgY29tcGxldGVkIHRoZWlyIG9ubGluZSBib29raW5nLiBUaGUgYXBwb2ludG1lbnQgaXMgY29uZmlybWVkIGFuZCBoYXMgYmVlbiBhZGRlZCB0byB5b3VyIHNjaGVkdWxlLjwvc21hbGw+PC9wPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvYm9keT5cclxuICAgIDwvaHRtbD5cclxuICBgXHJcblxyXG4gIGNvbnN0IG1haWxPcHRpb25zID0ge1xyXG4gICAgZnJvbTogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQlVTSU5FU1NfRU1BSUwsXHJcbiAgICB0bzogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQlVTSU5FU1NfRU1BSUwsIC8vIFNlbmQgdG8gc2Fsb25cclxuICAgIHN1YmplY3Q6IGDvv70gTmV3IEFwcG9pbnRtZW50OiAke3NlcnZpY2VOYW1lfSAtICR7Zm9ybWF0dGVkRGF0ZX0gYXQgJHthcHBvaW50bWVudFRpbWV9YCxcclxuICAgIGh0bWw6IHNhbG9uRW1haWxDb250ZW50XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgYXdhaXQgdHJhbnNwb3J0ZXIuc2VuZE1haWwobWFpbE9wdGlvbnMpXHJcbiAgICBjb25zb2xlLmxvZygnU2Fsb24gbm90aWZpY2F0aW9uIGVtYWlsIHNlbnQgc3VjY2Vzc2Z1bGx5JylcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VuZGluZyBzYWxvbiBub3RpZmljYXRpb24gZW1haWw6JywgZXJyb3IpXHJcbiAgICB0aHJvdyBlcnJvclxyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsibm9kZW1haWxlciIsInRyYW5zcG9ydGVyIiwiY3JlYXRlVHJhbnNwb3J0Iiwic2VydmljZSIsImF1dGgiLCJ1c2VyIiwicHJvY2VzcyIsImVudiIsIkVNQUlMX1VTRVIiLCJwYXNzIiwiRU1BSUxfUEFTUyIsInNlbmRCb29raW5nQ29uZmlybWF0aW9uVG9DdXN0b21lciIsImJvb2tpbmdEYXRhIiwiY3VzdG9tZXJOYW1lIiwiY3VzdG9tZXJFbWFpbCIsInNlcnZpY2VOYW1lIiwic3RhZmZOYW1lIiwiYXBwb2ludG1lbnREYXRlIiwiYXBwb2ludG1lbnRUaW1lIiwiYm9va2luZ0lkIiwidG90YWxQcmljZSIsImZvcm1hdHRlZERhdGUiLCJEYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwid2Vla2RheSIsInllYXIiLCJtb250aCIsImRheSIsImN1c3RvbWVyRW1haWxDb250ZW50IiwiTkVYVF9QVUJMSUNfU0lURV9VUkwiLCJORVhUX1BVQkxJQ19CVVNJTkVTU19BRERSRVNTIiwiTkVYVF9QVUJMSUNfQlVTSU5FU1NfUEhPTkUiLCJORVhUX1BVQkxJQ19CVVNJTkVTU19FTUFJTCIsIm1haWxPcHRpb25zIiwiZnJvbSIsInRvIiwic3ViamVjdCIsImh0bWwiLCJzZW5kTWFpbCIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsInNlbmRCb29raW5nTm90aWZpY2F0aW9uVG9TYWxvbiIsInNhbG9uRW1haWxDb250ZW50Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./lib/email.ts\n");

/***/ }),

/***/ "(api-node)/./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2xpYi9wcmlzbWEudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZDO0FBRTdDLE1BQU1DLGtCQUFrQkM7QUFJakIsTUFBTUMsU0FBU0YsZ0JBQWdCRSxNQUFNLElBQUksSUFBSUgsd0RBQVlBLEdBQUU7QUFFbEUsSUFBSUksSUFBcUMsRUFBRUgsZ0JBQWdCRSxNQUFNLEdBQUdBIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEZIXFxEb3dubG9hZHNcXFJvb3RzQ3Jvd25XZWJzaXRlICgyKVxcUm9vdHNDcm93bldlYnNpdGVcXGxpYlxccHJpc21hLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50J1xyXG5cclxuY29uc3QgZ2xvYmFsRm9yUHJpc21hID0gZ2xvYmFsVGhpcyBhcyB1bmtub3duIGFzIHtcclxuICBwcmlzbWE6IFByaXNtYUNsaWVudCB8IHVuZGVmaW5lZFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgcHJpc21hID0gZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA/PyBuZXcgUHJpc21hQ2xpZW50KClcclxuXHJcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID0gcHJpc21hXHJcbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWxUaGlzIiwicHJpc21hIiwicHJvY2VzcyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./lib/prisma.ts\n");

/***/ }),

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fbookings&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cbookings%5Cindex.ts&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fbookings&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cbookings%5Cindex.ts&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   handler: () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_api_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/api-utils */ \"(api-node)/./node_modules/next/dist/server/api-utils/index.js\");\n/* harmony import */ var next_dist_server_api_utils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_api_utils__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_bookings_index_ts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pages\\api\\bookings\\index.ts */ \"(api-node)/./pages/api/bookings/index.ts\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(api-node)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(api-node)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n// Import the userland code.\n\n\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_3__.hoist)(_pages_api_bookings_index_ts__WEBPACK_IMPORTED_MODULE_4__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_3__.hoist)(_pages_api_bookings_index_ts__WEBPACK_IMPORTED_MODULE_4__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_2__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/bookings\",\n        pathname: \"/api/bookings\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_bookings_index_ts__WEBPACK_IMPORTED_MODULE_4__,\n    distDir: \".next\" || 0,\n    projectDir:  false || ''\n});\nasync function handler(req, res, ctx) {\n    let srcPage = \"/api/bookings\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {}\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return;\n    }\n    const { query, params, prerenderManifest } = prepareResult;\n    try {\n        const method = req.method || 'GET';\n        const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5__.getTracer)();\n        const activeSpan = tracer.getActiveScopeSpan();\n        const onRequestError = routeModule.instrumentationOnRequestError.bind(routeModule);\n        const invokeRouteModule = async (span)=>routeModule.render(req, res, {\n                query: {\n                    ...query,\n                    ...params\n                },\n                params,\n                allowedRevalidateHeaderKeys: undefined,\n                multiZoneDraftMode: Boolean(\"false\"),\n                trustHostHeader: undefined,\n                // TODO: get this from from runtime env so manifest\n                // doesn't need to load\n                previewProps: prerenderManifest.preview,\n                propagateError: false,\n                dev: routeModule.isDev,\n                page: \"/api/bookings\",\n                projectDir:  false || '',\n                onError: (...args)=>onRequestError(req, ...args)\n            }).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await invokeRouteModule(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, invokeRouteModule));\n        }\n    } catch (err) {\n        // we re-throw in dev to show the error overlay\n        if (routeModule.isDev) {\n            throw err;\n        }\n        // this is technically an invariant as error handling\n        // should be done inside of api-resolver onError\n        (0,next_dist_server_api_utils__WEBPACK_IMPORTED_MODULE_0__.sendError)(res, 500, 'Internal Server Error');\n    } finally{\n        // We don't allow any waitUntil work in pages API routes currently\n        // so if callback is present return with resolved promise since no\n        // pending work\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n    }\n}\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGYm9va2luZ3MmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q2Jvb2tpbmdzJTVDaW5kZXgudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXVEO0FBQ0M7QUFDdUM7QUFDckM7QUFDMUQ7QUFDNkQ7QUFDVztBQUNGO0FBQ3RFO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyx5REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMseURBQVE7QUFDcEM7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixhQUFhLE9BQW9DLElBQUksQ0FBRTtBQUN2RCxnQkFBZ0IsTUFBdUM7QUFDdkQsQ0FBQztBQUNNO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLEtBQXFCLEVBQUUsRUFFMUI7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksbUNBQW1DO0FBQy9DO0FBQ0E7QUFDQSx1QkFBdUIsNEVBQVM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsNkNBQTZDLFNBQTZDO0FBQzFGLDRDQUE0QyxPQUF3QztBQUNwRixpQ0FBaUMsU0FBb0M7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLE1BQXVDO0FBQ25FO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsZ0ZBQWM7QUFDL0UsK0RBQStELHlDQUF5QztBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxRQUFRLEVBQUUsTUFBTTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGtCQUFrQjtBQUNsQix1Q0FBdUMsUUFBUSxFQUFFLFFBQVE7QUFDekQ7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsNkVBQTZFLGdGQUFjO0FBQzNGLGlDQUFpQyxRQUFRLEVBQUUsUUFBUTtBQUNuRCwwQkFBMEIsdUVBQVE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxRUFBUztBQUNqQixNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2VuZEVycm9yIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYXBpLXV0aWxzXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxib29raW5nc1xcXFxpbmRleC50c1wiO1xuaW1wb3J0IHsgZ2V0VHJhY2VyLCBTcGFuS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi90cmFjZS90cmFjZXJcIjtcbmltcG9ydCB7IEJhc2VTZXJ2ZXJTcGFuIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL2NvbnN0YW50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCAnZGVmYXVsdCcpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgJ2NvbmZpZycpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9ib29raW5nc1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2Jvb2tpbmdzXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogJycsXG4gICAgICAgIGZpbGVuYW1lOiAnJ1xuICAgIH0sXG4gICAgdXNlcmxhbmQsXG4gICAgZGlzdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX0RJU1RfRElSIHx8ICcnLFxuICAgIHByb2plY3REaXI6IHByb2Nlc3MuZW52Ll9fTkVYVF9SRUxBVElWRV9QUk9KRUNUX0RJUiB8fCAnJ1xufSk7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcywgY3R4KSB7XG4gICAgbGV0IHNyY1BhZ2UgPSBcIi9hcGkvYm9va2luZ3NcIjtcbiAgICAvLyB0dXJib3BhY2sgZG9lc24ndCBub3JtYWxpemUgYC9pbmRleGAgaW4gdGhlIHBhZ2UgbmFtZVxuICAgIC8vIHNvIHdlIG5lZWQgdG8gdG8gcHJvY2VzcyBkeW5hbWljIHJvdXRlcyBwcm9wZXJseVxuICAgIC8vIFRPRE86IGZpeCB0dXJib3BhY2sgcHJvdmlkaW5nIGRpZmZlcmluZyB2YWx1ZSBmcm9tIHdlYnBhY2tcbiAgICBpZiAocHJvY2Vzcy5lbnYuVFVSQk9QQUNLKSB7XG4gICAgICAgIHNyY1BhZ2UgPSBzcmNQYWdlLnJlcGxhY2UoL1xcL2luZGV4JC8sICcnKSB8fCAnLyc7XG4gICAgfVxuICAgIGNvbnN0IHByZXBhcmVSZXN1bHQgPSBhd2FpdCByb3V0ZU1vZHVsZS5wcmVwYXJlKHJlcSwgcmVzLCB7XG4gICAgICAgIHNyY1BhZ2VcbiAgICB9KTtcbiAgICBpZiAoIXByZXBhcmVSZXN1bHQpIHtcbiAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDA7XG4gICAgICAgIHJlcy5lbmQoJ0JhZCBSZXF1ZXN0Jyk7XG4gICAgICAgIGN0eC53YWl0VW50aWwgPT0gbnVsbCA/IHZvaWQgMCA6IGN0eC53YWl0VW50aWwuY2FsbChjdHgsIFByb21pc2UucmVzb2x2ZSgpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB7IHF1ZXJ5LCBwYXJhbXMsIHByZXJlbmRlck1hbmlmZXN0IH0gPSBwcmVwYXJlUmVzdWx0O1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9IHJlcS5tZXRob2QgfHwgJ0dFVCc7XG4gICAgICAgIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcigpO1xuICAgICAgICBjb25zdCBhY3RpdmVTcGFuID0gdHJhY2VyLmdldEFjdGl2ZVNjb3BlU3BhbigpO1xuICAgICAgICBjb25zdCBvblJlcXVlc3RFcnJvciA9IHJvdXRlTW9kdWxlLmluc3RydW1lbnRhdGlvbk9uUmVxdWVzdEVycm9yLmJpbmQocm91dGVNb2R1bGUpO1xuICAgICAgICBjb25zdCBpbnZva2VSb3V0ZU1vZHVsZSA9IGFzeW5jIChzcGFuKT0+cm91dGVNb2R1bGUucmVuZGVyKHJlcSwgcmVzLCB7XG4gICAgICAgICAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucXVlcnksXG4gICAgICAgICAgICAgICAgICAgIC4uLnBhcmFtc1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgICAgIGFsbG93ZWRSZXZhbGlkYXRlSGVhZGVyS2V5czogcHJvY2Vzcy5lbnYuX19ORVhUX0FMTE9XRURfUkVWQUxJREFURV9IRUFERVJTLFxuICAgICAgICAgICAgICAgIG11bHRpWm9uZURyYWZ0TW9kZTogQm9vbGVhbihwcm9jZXNzLmVudi5fX05FWFRfTVVMVElfWk9ORV9EUkFGVF9NT0RFKSxcbiAgICAgICAgICAgICAgICB0cnVzdEhvc3RIZWFkZXI6IHByb2Nlc3MuZW52Ll9fTkVYVF9UUlVTVF9IT1NUX0hFQURFUixcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBnZXQgdGhpcyBmcm9tIGZyb20gcnVudGltZSBlbnYgc28gbWFuaWZlc3RcbiAgICAgICAgICAgICAgICAvLyBkb2Vzbid0IG5lZWQgdG8gbG9hZFxuICAgICAgICAgICAgICAgIHByZXZpZXdQcm9wczogcHJlcmVuZGVyTWFuaWZlc3QucHJldmlldyxcbiAgICAgICAgICAgICAgICBwcm9wYWdhdGVFcnJvcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgZGV2OiByb3V0ZU1vZHVsZS5pc0RldixcbiAgICAgICAgICAgICAgICBwYWdlOiBcIi9hcGkvYm9va2luZ3NcIixcbiAgICAgICAgICAgICAgICBwcm9qZWN0RGlyOiBwcm9jZXNzLmVudi5fX05FWFRfUkVMQVRJVkVfUFJPSkVDVF9ESVIgfHwgJycsXG4gICAgICAgICAgICAgICAgb25FcnJvcjogKC4uLmFyZ3MpPT5vblJlcXVlc3RFcnJvcihyZXEsIC4uLmFyZ3MpXG4gICAgICAgICAgICB9KS5maW5hbGx5KCgpPT57XG4gICAgICAgICAgICAgICAgaWYgKCFzcGFuKSByZXR1cm47XG4gICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgJ2h0dHAuc3RhdHVzX2NvZGUnOiByZXMuc3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgJ25leHQucnNjJzogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByb290U3BhbkF0dHJpYnV0ZXMgPSB0cmFjZXIuZ2V0Um9vdFNwYW5BdHRyaWJ1dGVzKCk7XG4gICAgICAgICAgICAgICAgLy8gV2Ugd2VyZSB1bmFibGUgdG8gZ2V0IGF0dHJpYnV0ZXMsIHByb2JhYmx5IE9URUwgaXMgbm90IGVuYWJsZWRcbiAgICAgICAgICAgICAgICBpZiAoIXJvb3RTcGFuQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnNwYW5fdHlwZScpICE9PSBCYXNlU2VydmVyU3Bhbi5oYW5kbGVSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVW5leHBlY3RlZCByb290IHNwYW4gdHlwZSAnJHtyb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnNwYW5fdHlwZScpfScuIFBsZWFzZSByZXBvcnQgdGhpcyBOZXh0LmpzIGlzc3VlIGh0dHBzOi8vZ2l0aHViLmNvbS92ZXJjZWwvbmV4dC5qc2ApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJvdXRlID0gcm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5yb3V0ZScpO1xuICAgICAgICAgICAgICAgIGlmIChyb3V0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gYCR7bWV0aG9kfSAke3JvdXRlfWA7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dC5yb3V0ZSc6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAucm91dGUnOiByb3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0LnNwYW5fbmFtZSc6IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4udXBkYXRlTmFtZShuYW1lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnVwZGF0ZU5hbWUoYCR7bWV0aG9kfSAke3JlcS51cmx9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIC8vIFRPRE86IGFjdGl2ZVNwYW4gY29kZSBwYXRoIGlzIGZvciB3aGVuIHdyYXBwZWQgYnlcbiAgICAgICAgLy8gbmV4dC1zZXJ2ZXIgY2FuIGJlIHJlbW92ZWQgd2hlbiB0aGlzIGlzIG5vIGxvbmdlciB1c2VkXG4gICAgICAgIGlmIChhY3RpdmVTcGFuKSB7XG4gICAgICAgICAgICBhd2FpdCBpbnZva2VSb3V0ZU1vZHVsZShhY3RpdmVTcGFuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRyYWNlci53aXRoUHJvcGFnYXRlZENvbnRleHQocmVxLmhlYWRlcnMsICgpPT50cmFjZXIudHJhY2UoQmFzZVNlcnZlclNwYW4uaGFuZGxlUmVxdWVzdCwge1xuICAgICAgICAgICAgICAgICAgICBzcGFuTmFtZTogYCR7bWV0aG9kfSAke3JlcS51cmx9YCxcbiAgICAgICAgICAgICAgICAgICAga2luZDogU3BhbktpbmQuU0VSVkVSLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5tZXRob2QnOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC50YXJnZXQnOiByZXEudXJsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBpbnZva2VSb3V0ZU1vZHVsZSkpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIHdlIHJlLXRocm93IGluIGRldiB0byBzaG93IHRoZSBlcnJvciBvdmVybGF5XG4gICAgICAgIGlmIChyb3V0ZU1vZHVsZS5pc0Rldikge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoaXMgaXMgdGVjaG5pY2FsbHkgYW4gaW52YXJpYW50IGFzIGVycm9yIGhhbmRsaW5nXG4gICAgICAgIC8vIHNob3VsZCBiZSBkb25lIGluc2lkZSBvZiBhcGktcmVzb2x2ZXIgb25FcnJvclxuICAgICAgICBzZW5kRXJyb3IocmVzLCA1MDAsICdJbnRlcm5hbCBTZXJ2ZXIgRXJyb3InKTtcbiAgICB9IGZpbmFsbHl7XG4gICAgICAgIC8vIFdlIGRvbid0IGFsbG93IGFueSB3YWl0VW50aWwgd29yayBpbiBwYWdlcyBBUEkgcm91dGVzIGN1cnJlbnRseVxuICAgICAgICAvLyBzbyBpZiBjYWxsYmFjayBpcyBwcmVzZW50IHJldHVybiB3aXRoIHJlc29sdmVkIHByb21pc2Ugc2luY2Ugbm9cbiAgICAgICAgLy8gcGVuZGluZyB3b3JrXG4gICAgICAgIGN0eC53YWl0VW50aWwgPT0gbnVsbCA/IHZvaWQgMCA6IGN0eC53YWl0VW50aWwuY2FsbChjdHgsIFByb21pc2UucmVzb2x2ZSgpKTtcbiAgICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fbookings&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cbookings%5Cindex.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/bookings/index.ts":
/*!*************************************!*\
  !*** ./pages/api/bookings/index.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/prisma */ \"(api-node)/./lib/prisma.ts\");\n/* harmony import */ var _lib_email__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/email */ \"(api-node)/./lib/email.ts\");\n\n\nasync function handler(req, res) {\n    switch(req.method){\n        case 'GET':\n            return await getBookings(req, res);\n        case 'POST':\n            return await createBooking(req, res);\n        default:\n            return res.status(405).json({\n                message: 'Method not allowed'\n            });\n    }\n}\nasync function getBookings(req, res) {\n    try {\n        const { staffId, status, date } = req.query;\n        let whereClause = {};\n        if (staffId && typeof staffId === 'string') {\n            whereClause.staffId = staffId;\n        }\n        if (status && typeof status === 'string') {\n            whereClause.status = status;\n        }\n        if (date && typeof date === 'string') {\n            const startDate = new Date(date);\n            const endDate = new Date(date);\n            endDate.setDate(endDate.getDate() + 1);\n            whereClause.appointmentDate = {\n                gte: startDate,\n                lt: endDate\n            };\n        }\n        const bookings = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.booking.findMany({\n            where: whereClause,\n            include: {\n                service: {\n                    include: {\n                        category: true\n                    }\n                },\n                staff: true\n            },\n            orderBy: [\n                {\n                    appointmentDate: 'asc'\n                },\n                {\n                    appointmentTime: 'asc'\n                }\n            ]\n        });\n        return res.status(200).json(bookings);\n    } catch (error) {\n        console.error('Error fetching bookings:', error);\n        return res.status(500).json({\n            message: 'Internal server error'\n        });\n    }\n}\nasync function createBooking(req, res) {\n    try {\n        const { customerName, customerEmail, customerPhone, serviceId, staffId, appointmentDate, appointmentTime, notes } = req.body;\n        if (!customerName || !customerEmail || !serviceId || !staffId || !appointmentDate || !appointmentTime) {\n            return res.status(400).json({\n                message: 'Missing required fields'\n            });\n        }\n        // Generate 6-digit booking ID\n        const bookingId = Math.floor(100000 + Math.random() * 900000).toString();\n        // Get service details for pricing\n        const service = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.service.findUnique({\n            where: {\n                id: serviceId\n            }\n        });\n        if (!service) {\n            return res.status(404).json({\n                message: 'Service not found'\n            });\n        }\n        // Get staff details for name\n        const staff = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.staff.findUnique({\n            where: {\n                id: staffId\n            }\n        });\n        if (!staff) {\n            return res.status(404).json({\n                message: 'Staff not found'\n            });\n        }\n        // Check if the time slot is available\n        const existingBooking = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.booking.findFirst({\n            where: {\n                staffId,\n                appointmentDate: new Date(appointmentDate),\n                appointmentTime,\n                status: {\n                    not: 'CANCELLED'\n                }\n            }\n        });\n        if (existingBooking) {\n            return res.status(409).json({\n                message: 'Time slot is already booked'\n            });\n        }\n        const booking = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.booking.create({\n            data: {\n                bookingId,\n                customerName,\n                customerEmail,\n                customerPhone,\n                serviceId,\n                staffId,\n                staffName: staff.name,\n                appointmentDate: new Date(appointmentDate),\n                appointmentTime,\n                notes,\n                totalPrice: service.price,\n                status: 'CONFIRMED'\n            },\n            include: {\n                service: {\n                    include: {\n                        category: true\n                    }\n                },\n                staff: true\n            }\n        });\n        // Send confirmation emails\n        try {\n            const emailData = {\n                customerName,\n                customerEmail,\n                serviceName: service.name,\n                staffName: staff.name,\n                appointmentDate,\n                appointmentTime,\n                bookingId,\n                totalPrice: service.price\n            };\n            // Send email to customer\n            await (0,_lib_email__WEBPACK_IMPORTED_MODULE_1__.sendBookingConfirmationToCustomer)(emailData);\n            // Send notification to salon\n            await (0,_lib_email__WEBPACK_IMPORTED_MODULE_1__.sendBookingNotificationToSalon)(emailData);\n            console.log('Booking confirmation emails sent successfully');\n        } catch (emailError) {\n            console.error('Error sending emails:', emailError);\n        // Don't fail the booking if email fails, just log the error\n        }\n        return res.status(201).json(booking);\n    } catch (error) {\n        console.error('Error creating booking:', error);\n        return res.status(500).json({\n            message: 'Internal server error'\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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eUI7WUFDekIsTUFBTXhELDZFQUFpQ0EsQ0FBQ3lEO1lBRXhDLDZCQUE2QjtZQUM3QixNQUFNeEQsMEVBQThCQSxDQUFDd0Q7WUFFckN2QixRQUFReUIsR0FBRyxDQUFDO1FBQ2QsRUFBRSxPQUFPQyxZQUFZO1lBQ25CMUIsUUFBUUQsS0FBSyxDQUFDLHlCQUF5QjJCO1FBQ3ZDLDREQUE0RDtRQUM5RDtRQUVBLE9BQU94RCxJQUFJSSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDZTtJQUM5QixFQUFFLE9BQU9TLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLDJCQUEyQkE7UUFDekMsT0FBTzdCLElBQUlJLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsU0FBUztRQUF3QjtJQUNqRTtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEZIXFxEb3dubG9hZHNcXFJvb3RzQ3Jvd25XZWJzaXRlICgyKVxcUm9vdHNDcm93bldlYnNpdGVcXHBhZ2VzXFxhcGlcXGJvb2tpbmdzXFxpbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCdcclxuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSAnLi4vLi4vLi4vbGliL3ByaXNtYSdcclxuaW1wb3J0IHsgc2VuZEJvb2tpbmdDb25maXJtYXRpb25Ub0N1c3RvbWVyLCBzZW5kQm9va2luZ05vdGlmaWNhdGlvblRvU2Fsb24gfSBmcm9tICcuLi8uLi8uLi9saWIvZW1haWwnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XHJcbiAgc3dpdGNoIChyZXEubWV0aG9kKSB7XHJcbiAgICBjYXNlICdHRVQnOlxyXG4gICAgICByZXR1cm4gYXdhaXQgZ2V0Qm9va2luZ3MocmVxLCByZXMpXHJcbiAgICBjYXNlICdQT1NUJzpcclxuICAgICAgcmV0dXJuIGF3YWl0IGNyZWF0ZUJvb2tpbmcocmVxLCByZXMpXHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBtZXNzYWdlOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KVxyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0Qm9va2luZ3MocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBzdGFmZklkLCBzdGF0dXMsIGRhdGUgfSA9IHJlcS5xdWVyeVxyXG4gICAgXHJcbiAgICBsZXQgd2hlcmVDbGF1c2U6IGFueSA9IHt9XHJcbiAgICBcclxuICAgIGlmIChzdGFmZklkICYmIHR5cGVvZiBzdGFmZklkID09PSAnc3RyaW5nJykge1xyXG4gICAgICB3aGVyZUNsYXVzZS5zdGFmZklkID0gc3RhZmZJZFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoc3RhdHVzICYmIHR5cGVvZiBzdGF0dXMgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHdoZXJlQ2xhdXNlLnN0YXR1cyA9IHN0YXR1c1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoZGF0ZSAmJiB0eXBlb2YgZGF0ZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgY29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUoZGF0ZSlcclxuICAgICAgY29uc3QgZW5kRGF0ZSA9IG5ldyBEYXRlKGRhdGUpXHJcbiAgICAgIGVuZERhdGUuc2V0RGF0ZShlbmREYXRlLmdldERhdGUoKSArIDEpXHJcbiAgICAgIFxyXG4gICAgICB3aGVyZUNsYXVzZS5hcHBvaW50bWVudERhdGUgPSB7XHJcbiAgICAgICAgZ3RlOiBzdGFydERhdGUsXHJcbiAgICAgICAgbHQ6IGVuZERhdGVcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGJvb2tpbmdzID0gYXdhaXQgcHJpc21hLmJvb2tpbmcuZmluZE1hbnkoe1xyXG4gICAgICB3aGVyZTogd2hlcmVDbGF1c2UsXHJcbiAgICAgIGluY2x1ZGU6IHtcclxuICAgICAgICBzZXJ2aWNlOiB7XHJcbiAgICAgICAgICBpbmNsdWRlOiB7XHJcbiAgICAgICAgICAgIGNhdGVnb3J5OiB0cnVlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdGFmZjogdHJ1ZVxyXG4gICAgICB9LFxyXG4gICAgICBvcmRlckJ5OiBbXHJcbiAgICAgICAgeyBhcHBvaW50bWVudERhdGU6ICdhc2MnIH0sXHJcbiAgICAgICAgeyBhcHBvaW50bWVudFRpbWU6ICdhc2MnIH1cclxuICAgICAgXVxyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oYm9va2luZ3MpXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGJvb2tpbmdzOicsIGVycm9yKVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSlcclxuICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUJvb2tpbmcocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBjdXN0b21lck5hbWUsXHJcbiAgICAgIGN1c3RvbWVyRW1haWwsXHJcbiAgICAgIGN1c3RvbWVyUGhvbmUsXHJcbiAgICAgIHNlcnZpY2VJZCxcclxuICAgICAgc3RhZmZJZCxcclxuICAgICAgYXBwb2ludG1lbnREYXRlLFxyXG4gICAgICBhcHBvaW50bWVudFRpbWUsXHJcbiAgICAgIG5vdGVzXHJcbiAgICB9ID0gcmVxLmJvZHlcclxuXHJcbiAgICBpZiAoIWN1c3RvbWVyTmFtZSB8fCAhY3VzdG9tZXJFbWFpbCB8fCAhc2VydmljZUlkIHx8ICFzdGFmZklkIHx8ICFhcHBvaW50bWVudERhdGUgfHwgIWFwcG9pbnRtZW50VGltZSkge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnTWlzc2luZyByZXF1aXJlZCBmaWVsZHMnIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2VuZXJhdGUgNi1kaWdpdCBib29raW5nIElEXHJcbiAgICBjb25zdCBib29raW5nSWQgPSBNYXRoLmZsb29yKDEwMDAwMCArIE1hdGgucmFuZG9tKCkgKiA5MDAwMDApLnRvU3RyaW5nKClcclxuXHJcbiAgICAvLyBHZXQgc2VydmljZSBkZXRhaWxzIGZvciBwcmljaW5nXHJcbiAgICBjb25zdCBzZXJ2aWNlID0gYXdhaXQgcHJpc21hLnNlcnZpY2UuZmluZFVuaXF1ZSh7XHJcbiAgICAgIHdoZXJlOiB7IGlkOiBzZXJ2aWNlSWQgfVxyXG4gICAgfSlcclxuXHJcbiAgICBpZiAoIXNlcnZpY2UpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1NlcnZpY2Ugbm90IGZvdW5kJyB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCBzdGFmZiBkZXRhaWxzIGZvciBuYW1lXHJcbiAgICBjb25zdCBzdGFmZiA9IGF3YWl0IHByaXNtYS5zdGFmZi5maW5kVW5pcXVlKHtcclxuICAgICAgd2hlcmU6IHsgaWQ6IHN0YWZmSWQgfVxyXG4gICAgfSlcclxuXHJcbiAgICBpZiAoIXN0YWZmKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdTdGFmZiBub3QgZm91bmQnIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIHRpbWUgc2xvdCBpcyBhdmFpbGFibGVcclxuICAgIGNvbnN0IGV4aXN0aW5nQm9va2luZyA9IGF3YWl0IHByaXNtYS5ib29raW5nLmZpbmRGaXJzdCh7XHJcbiAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgc3RhZmZJZCxcclxuICAgICAgICBhcHBvaW50bWVudERhdGU6IG5ldyBEYXRlKGFwcG9pbnRtZW50RGF0ZSksXHJcbiAgICAgICAgYXBwb2ludG1lbnRUaW1lLFxyXG4gICAgICAgIHN0YXR1czoge1xyXG4gICAgICAgICAgbm90OiAnQ0FOQ0VMTEVEJ1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBpZiAoZXhpc3RpbmdCb29raW5nKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7IG1lc3NhZ2U6ICdUaW1lIHNsb3QgaXMgYWxyZWFkeSBib29rZWQnIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYm9va2luZyA9IGF3YWl0IHByaXNtYS5ib29raW5nLmNyZWF0ZSh7XHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICBib29raW5nSWQsXHJcbiAgICAgICAgY3VzdG9tZXJOYW1lLFxyXG4gICAgICAgIGN1c3RvbWVyRW1haWwsXHJcbiAgICAgICAgY3VzdG9tZXJQaG9uZSxcclxuICAgICAgICBzZXJ2aWNlSWQsXHJcbiAgICAgICAgc3RhZmZJZCxcclxuICAgICAgICBzdGFmZk5hbWU6IHN0YWZmLm5hbWUsXHJcbiAgICAgICAgYXBwb2ludG1lbnREYXRlOiBuZXcgRGF0ZShhcHBvaW50bWVudERhdGUpLFxyXG4gICAgICAgIGFwcG9pbnRtZW50VGltZSxcclxuICAgICAgICBub3RlcyxcclxuICAgICAgICB0b3RhbFByaWNlOiBzZXJ2aWNlLnByaWNlLFxyXG4gICAgICAgIHN0YXR1czogJ0NPTkZJUk1FRCdcclxuICAgICAgfSxcclxuICAgICAgaW5jbHVkZToge1xyXG4gICAgICAgIHNlcnZpY2U6IHtcclxuICAgICAgICAgIGluY2x1ZGU6IHtcclxuICAgICAgICAgICAgY2F0ZWdvcnk6IHRydWVcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHN0YWZmOiB0cnVlXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgLy8gU2VuZCBjb25maXJtYXRpb24gZW1haWxzXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBlbWFpbERhdGEgPSB7XHJcbiAgICAgICAgY3VzdG9tZXJOYW1lLFxyXG4gICAgICAgIGN1c3RvbWVyRW1haWwsXHJcbiAgICAgICAgc2VydmljZU5hbWU6IHNlcnZpY2UubmFtZSxcclxuICAgICAgICBzdGFmZk5hbWU6IHN0YWZmLm5hbWUsXHJcbiAgICAgICAgYXBwb2ludG1lbnREYXRlLFxyXG4gICAgICAgIGFwcG9pbnRtZW50VGltZSxcclxuICAgICAgICBib29raW5nSWQsXHJcbiAgICAgICAgdG90YWxQcmljZTogc2VydmljZS5wcmljZVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBTZW5kIGVtYWlsIHRvIGN1c3RvbWVyXHJcbiAgICAgIGF3YWl0IHNlbmRCb29raW5nQ29uZmlybWF0aW9uVG9DdXN0b21lcihlbWFpbERhdGEpXHJcbiAgICAgIFxyXG4gICAgICAvLyBTZW5kIG5vdGlmaWNhdGlvbiB0byBzYWxvblxyXG4gICAgICBhd2FpdCBzZW5kQm9va2luZ05vdGlmaWNhdGlvblRvU2Fsb24oZW1haWxEYXRhKVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ0Jvb2tpbmcgY29uZmlybWF0aW9uIGVtYWlscyBzZW50IHN1Y2Nlc3NmdWxseScpXHJcbiAgICB9IGNhdGNoIChlbWFpbEVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgZW1haWxzOicsIGVtYWlsRXJyb3IpXHJcbiAgICAgIC8vIERvbid0IGZhaWwgdGhlIGJvb2tpbmcgaWYgZW1haWwgZmFpbHMsIGp1c3QgbG9nIHRoZSBlcnJvclxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbihib29raW5nKVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBib29raW5nOicsIGVycm9yKVxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSlcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbInByaXNtYSIsInNlbmRCb29raW5nQ29uZmlybWF0aW9uVG9DdXN0b21lciIsInNlbmRCb29raW5nTm90aWZpY2F0aW9uVG9TYWxvbiIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJnZXRCb29raW5ncyIsImNyZWF0ZUJvb2tpbmciLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInN0YWZmSWQiLCJkYXRlIiwicXVlcnkiLCJ3aGVyZUNsYXVzZSIsInN0YXJ0RGF0ZSIsIkRhdGUiLCJlbmREYXRlIiwic2V0RGF0ZSIsImdldERhdGUiLCJhcHBvaW50bWVudERhdGUiLCJndGUiLCJsdCIsImJvb2tpbmdzIiwiYm9va2luZyIsImZpbmRNYW55Iiwid2hlcmUiLCJpbmNsdWRlIiwic2VydmljZSIsImNhdGVnb3J5Iiwic3RhZmYiLCJvcmRlckJ5IiwiYXBwb2ludG1lbnRUaW1lIiwiZXJyb3IiLCJjb25zb2xlIiwiY3VzdG9tZXJOYW1lIiwiY3VzdG9tZXJFbWFpbCIsImN1c3RvbWVyUGhvbmUiLCJzZXJ2aWNlSWQiLCJub3RlcyIsImJvZHkiLCJib29raW5nSWQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ0b1N0cmluZyIsImZpbmRVbmlxdWUiLCJpZCIsImV4aXN0aW5nQm9va2luZyIsImZpbmRGaXJzdCIsIm5vdCIsImNyZWF0ZSIsImRhdGEiLCJzdGFmZk5hbWUiLCJuYW1lIiwidG90YWxQcmljZSIsInByaWNlIiwiZW1haWxEYXRhIiwic2VydmljZU5hbWUiLCJsb2ciLCJlbWFpbEVycm9yIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/bookings/index.ts\n");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("nodemailer");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fbookings&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cbookings%5Cindex.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();